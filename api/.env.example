# =============================================================================
# SentiBridge API - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Environment (development, staging, production)
ENVIRONMENT=development

# API host and port
API_HOST=0.0.0.0
API_PORT=8000

# Number of workers (use 1 for development)
WORKERS=1

# Debug mode (disable in production!)
DEBUG=true

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------

# JWT secret key (generate with: openssl rand -hex 32)
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# JWT algorithm
JWT_ALGORITHM=HS256

# Access token expiration in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration in days
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# API key hash algorithm
API_KEY_HASH_ALGORITHM=argon2

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------

# PostgreSQL connection URL
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/sentibridge

# Database pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------

# Redis connection URL (for caching and rate limiting)
REDIS_URL=redis://localhost:6379/0

# Cache TTL in seconds
CACHE_TTL=300

# -----------------------------------------------------------------------------
# Blockchain
# -----------------------------------------------------------------------------

# Web3 provider URL (for reading contract state)
WEB3_PROVIDER_URL=https://polygon-amoy.g.alchemy.com/v2/YOUR_API_KEY

# Oracle contract address
ORACLE_CONTRACT_ADDRESS=

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------

# Default rate limit per minute
DEFAULT_RATE_LIMIT=60

# Free tier rate limit per minute
FREE_TIER_RATE_LIMIT=10

# Basic tier rate limit per minute
BASIC_TIER_RATE_LIMIT=100

# Pro tier rate limit per minute
PRO_TIER_RATE_LIMIT=1000

# Enterprise tier rate limit per minute
ENTERPRISE_TIER_RATE_LIMIT=10000

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Sentry DSN for error tracking
SENTRY_DSN=

# Enable Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9091

# Health check endpoint
HEALTH_ENDPOINT=/health

# -----------------------------------------------------------------------------
# External Services
# -----------------------------------------------------------------------------

# The Graph API URL (for indexed data)
SUBGRAPH_URL=https://api.thegraph.com/subgraphs/name/your-org/sentibridge

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------

# Enable webhook notifications
ENABLE_WEBHOOKS=true

# Enable historical data endpoint
ENABLE_HISTORICAL=true

# Enable batch queries
ENABLE_BATCH_QUERIES=true
